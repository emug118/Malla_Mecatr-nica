<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Malla Mecatr칩nica EIA</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f7fb;
      padding: 20px;
      margin: 0;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .grid {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 20px;
      margin-top: 30px;
    }
    .semestre {
      min-width: 240px;
      background: #fff;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    .semestre h2 {
      text-align: center;
      font-size: 1rem;
      color: #555;
      margin-bottom: 10px;
    }
    .materia {
      background: #e2ecf7;
      margin: 6px 0;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.2s;
      position: relative;
    }
    .materia.aprobada {
      background: #c8f7c5;
      text-decoration: line-through;
      color: #444;
    }
    .materia.bloqueada {
      background: #f0f0f0;
      color: #aaa;
      cursor: not-allowed;
    }
    .materia:hover {
      background: #d2e2ff;
    }
    .materia.bloqueada:hover {
      background: #f0f0f0;
    }
    .tooltip {
      display: none;
      position: absolute;
      top: 50%;
      left: 100%;
      margin-left: 8px;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.8);
      color: #fff;
      padding: 5px 10px;
      font-size: 0.75em;
      border-radius: 4px;
      max-width: 180px;
      z-index: 10;
    }
    .materia.bloqueada:hover .tooltip {
      display: block;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular - Ingenier칤a Mecatr칩nica (EIA)</h1>
  <div class="grid" id="malla"></div>

  <script>
    const courses = [
      // 游댷 Aqu칤 van las materias (semestre, nombre, prerrequisitos)
      { name: "Universo Mecatr칩nico", semester: "Semestre 1", prerequisites: [] },
      { name: "Sistemas Neum치ticos e H. Biomorfismos", semester: "Semestre 1", prerequisites: [] },
      { name: "Programaci칩n", semester: "Semestre 1", prerequisites: [] },
      { name: "Optativa en Comunicaci칩n", semester: "Semestre 1", prerequisites: [] },
      { name: "Geometr칤a", semester: "Semestre 1", prerequisites: [] },
      { name: "C치lculo Diferencial", semester: "Semestre 1", prerequisites: [] },
      { name: "Proyecto I", semester: "Semestre 2", prerequisites: ["Universo Mecatr칩nico"] },
      { name: "Dibujo Mec치nico", semester: "Semestre 2", prerequisites: ["Geometr칤a"] },
      { name: "Programaci칩n y Software", semester: "Semestre 2", prerequisites: ["Programaci칩n"] },
      { name: "Bases de Datos", semester: "Semestre 2", prerequisites: ["Programaci칩n"] },
      { name: "F칤sica Mec치nica", semester: "Semestre 2", prerequisites: ["C치lculo Diferencial", "Geometr칤a"] },
      { name: "츼lgebra Lineal", semester: "Semestre 2", prerequisites: ["C치lculo Diferencial"] },
      { name: "C치lculo Integral", semester: "Semestre 2", prerequisites: ["C치lculo Diferencial"] },
      { name: "Ciencia de los Materiales", semester: "Semestre 3", prerequisites: ["Sistemas Neum치ticos e H. Biomorfismos"] },
      { name: "Termodin치mica y Fluidos", semester: "Semestre 3", prerequisites: ["F칤sica Mec치nica"] },
      { name: "Optativa Sociohuman칤stica", semester: "Semestre 3", prerequisites: [] },
      { name: "Est치tica", semester: "Semestre 3", prerequisites: ["F칤sica Mec치nica"] },
      { name: "F칤sica de Campos", semester: "Semestre 3", prerequisites: ["F칤sica Mec치nica", "C치lculo Integral"] },
      { name: "C치lculo en Varias Variables", semester: "Semestre 3", prerequisites: ["C치lculo Integral"] },
      // Puedes seguir agregando m치s materias as칤...
    ];

    const estado = JSON.parse(localStorage.getItem("estadoMaterias")) || {};

    function renderMalla() {
      const container = document.getElementById("malla");
      container.innerHTML = "";

      const semestres = [...new Set(courses.map(c => c.semester))];
      semestres.forEach(sem => {
        const columna = document.createElement("div");
        columna.className = "semestre";
        const titulo = document.createElement("h2");
        titulo.textContent = sem;
        columna.appendChild(titulo);

        courses.filter(c => c.semester === sem).forEach(materia => {
          const div = document.createElement("div");
          div.className = "materia";
          div.textContent = materia.name;

          const aprobadas = Object.keys(estado).filter(k => estado[k]);

          const faltan = materia.prerequisites.filter(p => !estado[p]);
          if (estado[materia.name]) {
            div.classList.add("aprobada");
          } else if (faltan.length > 0) {
            div.classList.add("bloqueada");
            const tooltip = document.createElement("div");
            tooltip.className = "tooltip";
            tooltip.textContent = "Faltan: " + faltan.join(", ");
            div.appendChild(tooltip);
          }

          div.addEventListener("click", () => {
            if (div.classList.contains("bloqueada")) return;
            estado[materia.name] = !estado[materia.name];
            localStorage.setItem("estadoMaterias", JSON.stringify(estado));
            renderMalla();
          });

          columna.appendChild(div);
        });

        container.appendChild(columna);
      });
    }

    renderMalla();
  </script>
</body>
</html>


